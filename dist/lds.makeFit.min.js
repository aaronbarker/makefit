/*!
 * makeFit
 * @description	Makes and element fit into it
 * @version		1.3.0 - 2014/07/01
 * @author		Aaron Barker
 * @requires	ui.widget.js
 * @copyright	Copyright Intellectual Reserve Inc. All rights reserved.
 */
(function(a){"use strict";a.widget("lds.makeFit",{options:{fitWithin:function(a,b){return b.element.parent()},sizeClasses:"small smaller smallest",sync:"",addClassTo:false,syncFitWithin:true,imgLoadTimeout:100,setupResize:function(b,c){a(window).on("resize orientationchange",function(){c.fit()})}},_create:function(){var a=this.options,b=this,c=this.element;if(typeof a.fitWithin==="function"){b.fitWithin=a.fitWithin.call(this,b)}else{b.fitWithin=a.fitWithin}if(typeof a.addClassTo==="function"){b.addClassTo=a.addClassTo.call(this,b)}else{b.addClassTo=a.addClassTo}b._trigger("setupResize",0,b);b.fit();c.addClass("makeFit-enabled")},fit:function(){var b=this.options,c=this,d=this.element,e=c.fitWithin,f=e.height(),g,h=b.sizeClasses.split(" "),i,j,k,l;if(e.is("img")&&!e.height()){setTimeout(function(){c.fit()},b.imgLoadTimeout);return}d.add(b.syncFitWithin?e:"").add(c.addClassTo).removeClass(b.sizeClasses);a.each(h,function(){f=e.height();g=e.width();i=Math.floor(d.outerHeight(true));j=Math.floor(d.outerWidth(true));if(i>f||j>g){c.setClass(""+this)}});if(b.center&&d.css("position")==="absolute"){k=(f-i)/2;d.css("top",k)}else if(b.center){d.css("top","auto")}if(b.sync){l=a(b.sync);if(l.index(d)===l.length-1){a.each(h,function(){var b=""+this;if(l.hasClass(b)){l.each(function(){a(this).makeFit("setClass",b)})}})}}},setClass:function(a){var b=this,c=b.options,d=b.element;return d.add(c.syncFitWithin?b.fitWithin:"").add(b.addClassTo).addClass(a)},destroy:function(){a.Widget.prototype.destroy.apply(this,arguments);a(this.element).add(window).unbind("."+this.widgetName)}});a.extend(a.lds.makeFit,{version:"1.3.0"})})(jQuery);